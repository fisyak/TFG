void SvtShift() {
  TNtuple *SvtHitNtuple = (TNtuple *SvtHitNtuple) gDirectory->Get("SvtHitNtuple");
  if (! SvtHitNtuple) return;
  SvtHitNtuple->SetMarkerStyle(20);
  SvtHitNtuple->Draw("xR-xM>>Pos","nM==1&&nR==1&&ladder + 100*wafer + 1000*layer==1108&&xM>0");
  SvtHitNtuple->SetLineColor(2);
  SvtHitNtuple->Draw("xR-xM>>Neg","nM==1&&nR==1&&ladder + 100*wafer + 1000*layer==1108&&xM<00");
  TLegend *leg = new TLegend(0.1,0.8,1.0,0.9,"");
  TH1F *Pos = (TH1F*) gDirectory->Get("Pos");
  TCanvas *c1 = new TCanvas("SvtShift","SvtShift");
  TH1F *frame = c1->DrawFrame(-0.05,0,0.05,1.2*Pos->GetMaximum());
  frame->SetTitle("Difference between reconstructed and simulated SVT cluster positions");
  frame->SetXTitle("xR - xM (cm)                   ");
  Pos->Draw("same");
  leg->AddEntry(Pos,Pos->GetTitle());
  TH1F *Neg = (TH1F*) gDirectory->Get("Neg");
  Neg->Draw("same");
  leg->AddEntry(Neg,Neg->GetTitle());  
  leg->Draw();
  c1->Update(); 
  TString pngName(gSystem->BaseName(gDirectory->GetName()));
  pngName.ReplaceAll(".tags.root","");
  pngName += c1->GetName(); 
  pngName += ".png"; 
  pngName.ReplaceAll(" ","");
  TVirtualX::Instance()->WritePixmap(c1->GetCanvasID(),-1,-1,pngName.Data());

  TCanvas *c2 = new TCanvas("SvtTitl","SvtTitl");
  SvtHitNtuple->SetMarkerColor(1);
  SvtHitNtuple->SetLineColor(1);
  SvtHitNtuple->Draw("xR-xM:pzM/sqrt(pxM**2+pyM**2)>>pp","xM>0&&nM==1&&nR==1&&ladder + 100*wafer + 1000*layer==1108","prof");
  SvtHitNtuple->SetMarkerColor(2);
  SvtHitNtuple->SetLineColor(2);
  SvtHitNtuple->Draw("xR-xM:pzM/sqrt(pxM**2+pyM**2)>>nn","xM<0&&nM==1&&nR==1&&ladder + 100*wafer + 1000*layer==1108","prof");
  frame = c2->DrawFrame(-20,-0.06,20,0.08);
  frame->SetTitle("Difference between reconstructed and simulated SVT cluster positions versus pZ/pT");
  frame->SetXTitle("pZ/pT                   ");
  frame->SetYTitle("xR - xM (cm)                   ");
  TLegend *leg2 = new TLegend(0.1,0.8,1.0,0.9,"");
  TH1F *pp = (TH1F*) gDirectory->Get("pp");
  pp->Draw("same");
  leg2->AddEntry(pp,nn->GetTitle());
  TH1F *nn = (TH1F*) gDirectory->Get("nn");
  nn->Draw("same");
  leg2->AddEntry(nn,nn->GetTitle());
  leg2->Draw();
  c2->Update(); 
  TString pngName2(gSystem->BaseName(gDirectory->GetName()));
  pngName2.ReplaceAll(".tags.root","");
  pngName2 += c2->GetName(); 
  pngName2 += ".png"; 
  pngName2.ReplaceAll(" ","");
  TVirtualX::Instance()->WritePixmap(c2->GetCanvasID(),-1,-1,pngName2.Data());

  TCanvas *c3 = new TCanvas("SvtTitlX","SvtTitlX");
  frame = c3->DrawFrame(-3,-0.005,3,0.006);
  frame->SetTitle("Difference between reconstructed and simulated SVT cluster positions versus pZ/pT");
  frame->SetXTitle("pZ/pT                   ");
  frame->SetYTitle("xR - xM (cm)                   ");
  pp->Draw("same");
  nn->Draw("same");
  leg2->Draw();
  c3->Update(); 
  TString pngName3(gSystem->BaseName(gDirectory->GetName()));
  pngName3.ReplaceAll(".tags.root","");
  pngName3 += c3->GetName(); 
  pngName3 += ".png"; 
  pngName3.ReplaceAll(" ","");
  TVirtualX::Instance()->WritePixmap(c3->GetCanvasID(),-1,-1,pngName3.Data());
}
